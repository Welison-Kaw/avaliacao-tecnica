CREATE DATABASE PROVA
  DEFAULT CHARACTER SET utf8
  DEFAULT COLLATE utf8_general_ci;

USE PROVA;

create table TB_STATUS (
	CD_STATUS INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NM_STATUS VARCHAR(50)
);

create table TB_ATIVIDADE (
	CD_ATIVIDADE INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	NM_ATIVIDADE VARCHAR(255),
	DS_ATIVIDADE VARCHAR(600),
	DT_INICIO DATE,
	DT_FIM	DATE,
	CD_STATUS INT,
	CD_SITUACAO TINYINT(1) DEFAULT  1,
	CONSTRAINT CHECKEXIST CHECK (CD_SITUACAO IN (0, 1))
);

alter table TB_ATIVIDADE add constraint FK_STATUS foreign key (CD_STATUS) references TB_STATUS (CD_STATUS);

INSERT INTO TB_STATUS (NM_STATUS) VALUES ('Concluido');
INSERT INTO TB_STATUS (NM_STATUS) VALUES ('Pendente');
INSERT INTO TB_STATUS (NM_STATUS) VALUES ('Em Desenvolvimento');
INSERT INTO TB_STATUS (NM_STATUS) VALUES ('Em Teste');
